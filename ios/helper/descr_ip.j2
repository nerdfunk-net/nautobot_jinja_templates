{% macro description_and_ip(interface,config_context) %}
interface {{ interface.name }}
{% if interface.description | length > 1 -%}
 description {{ interface.description }}
{% endif %}
{% if interface.ip_addresses | length > 0 %}
{%  for addr in interface.ip_addresses %}
{%    if addr.address is defined %}
 ip address {{ addr.address }}
{%     endif %}
{%   endfor %}
{%  else %}
 no ip address
{%  endif %}
{% endmacro %}