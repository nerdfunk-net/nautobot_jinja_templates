{% macro switchport(interface,config_context) %}
 switchport
 switchport mode trunk
{% for vlan in interface.tagged_vlans -%}
{%   if vlan.name is defined %}
 switchport trunk allowed vlan add {{ vlan.name }}
{%   endif %}
{% endfor %}1
{% if interface.untagged_vlan is defined -%}2
{%   if interface.untagged_vlan.name is defined -%}3
 switchport trunk native vlan {{ interface.untagged_vlan.name }}4
{%   endif %}
{% endif %}
{% endmacro %}