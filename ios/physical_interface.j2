{% macro physical_interface(interface,config_context) %}
interface {{ interface.name }}
{% if interface.description | length > 1 %}
 description {{ interface.description }}
{% endif %}
{% if interface.ip_addresses | length > 0 %}
{%   for addr in interface.ip_addresses %}
{%     if addr.address is defined %}
 ip address {{ addr.address }}
{%     endif %}
{%   endfor %}
{% else %}
 no ip address
{% endif %}
{% if config_context.acl is defined %}
{%   if config_context.acl.interfaces is defined %}
{%     set interfacename = interface.name %}
{%     if config_context.acl.interfaces.interfacename is defined %}
{# ip access-group {{ config_context["acl"]["interfaces"][interface["name"]]["acl"] }} {{ config_context["acl"]["interfaces"][interface["name"]]["direction"] }} #}
{{ ip access-group {{ config_context.acl.interfaces.interfacename.acl }}
{%     endif %}
{%   endif %}
{% endif %}

{% endmacro %}